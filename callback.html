<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload page</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS if needed -->
</head>
<body>
    <h1>Upload page</h1>
    <p>Here important fields are filled to integrate your game and metadata to the arcade machine</p>

    <!-- Directory Description and Diagram -->
    <h2>Repository Structure Description</h2>
    <p>You could make a repository of your built game directory, but make sure to match the following:</p>
    <p>Make sure to build your game for Windows platform</p>
    <p>The name of the repository will serve as the name of your game in the arcade machine launcher, so be sure to use capital letters if needed.</p>
    <p>The directory should include:</p>
    <ul>
        <li>The .exe file and any additional game binaries (the files generated in the build directory).</li>
        <li>The license for your game.</li>
        <li>One .gif file of your game, serving as part of your arcade machine presentation.</li>
        <li>(Optional) A folder named "Demo" including a similar Windows build and license structure for your demo version, which will be free to play (but not replay)</li>
    </ul>

    <p>A GitHub machine generated .json file will be pushed/requested from my account/github machine adding the metadata for your game you fill on this page, including team members, description, payment/donation receiving addresses and cuts, e.g., booleans "isFree," and so on. You can manually edit this file to include desired outcomes, just remember to push.</p>
    <p>If something goes wrong, or decisions are made from above, e.g., the school, I will notify you all through the email associated with the account you used for the OAuth.</p>

    <!-- Repository Git URL -->
    <h2>Repository Git URL</h2>
    <p>Enter your repository URL below:</p>
    <input type="text" id="repoUrl" placeholder="https://github.com/username/repo.git" />

    <!-- Function to Request Repository Access -->
    <h2>Grant Repository Access</h2>
    <p>Use the button below to request access to your repository:</p>
    <button onclick="requestRepoAccess()">Request Access</button>

    <script>
        function requestRepoAccess() {
            // Functionality to grant access to your GitHub repository
            console.log("Requesting access to the repository...");
            alert("Access request sent!"); // Placeholder for feedback
        }
    </script>

    <!-- Dropdown for Available Repositories -->
    <h2>Select Repository for Submodule</h2>
    <p>Select a repository from the dropdown to give access to:</p>
    <select id="repositoryDropdown">
        <option value="">-- Select Repository --</option>
        <option value="repo1">Repository 1</option>
        <option value="repo2">Repository 2</option>
        <option value="repo3">Repository 3</option>
        <!-- Add options dynamically or manually as needed -->
    </select>

    <!-- GitHub Machine Configuration for Submodule -->
    <h2>Add as Submodule Configuration</h2>
    <p>Fill in the details below to add the selected repository as a submodule:</p>
    <input type="text" id="submoduleName" placeholder="Submodule Name (e.g., my-submodule)" />
    <input type="text" id="submodulePath" placeholder="Path in Repo (e.g., ./libs/my-submodule)" />
    <button onclick="addSubmodule()">Add Submodule</button>

    <!-- Team Members Section -->
    <h2>Team Members</h2>
    <ul id="teamMembersList">
        <!-- Existing team members can be added here dynamically -->
    </ul>
    <button onclick="addTeamMember()">Add Team Member</button>

    <script>
        function addTeamMember() {
            const list = document.getElementById("teamMembersList");
            const newMember = document.createElement("li");

            // Create input fields for the new team member
            newMember.innerHTML = `
                Name: <input type="text" placeholder="Member Name" />
                Role: <input type="text" placeholder="Role" />
                Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
                <button onclick="removeMember(this)">Remove</button>
            `;
            list.appendChild(newMember);
        }

        function removeMember(button) {
            const listItem = button.parentElement;
            listItem.remove();
        }
    </script>

    <!-- Public Team Page -->
    <h2>Public Team Page</h2>
    <p>Visit our team page: <a href="https://yourteam.github.io" target="_blank">Public Team Page</a></p>

    <!-- Public Game Page -->
    <h2>Public Game Page</h2>
    <p>Check out our game: <a href="https://yourgame.github.io" target="_blank">Public Game Page</a></p>

    <!-- Payment Receiving Address Section -->
    <h2>Payment Receiving Address</h2>
    <ul id="paymentList">
        <li>
            Address: <input type="text" placeholder="Payment Address" />
            Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
            <button onclick="removePaymentField(this)">Remove</button>
        </li>
    </ul>
    <button onclick="addPaymentField()">Add Payment Address</button>

    <script>
        function addPaymentField() {
            const list = document.getElementById("paymentList");
            const newField = document.createElement("li");

            // Create input fields for the new payment address
            newField.innerHTML = `
                Address: <input type="text" placeholder="Payment Address" />
                Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
                <button onclick="removePaymentField(this)">Remove</button>
            `;
            list.appendChild(newField);
        }

        function removePaymentField(button) {
            const listItem = button.parentElement;
            listItem.remove();
        }
    </script>

    <!-- Pay What You Want Option -->
    <h2>Pay What You Want</h2>
    <label>
        <input type="checkbox" id="payWhatYouWantCheckbox" onchange="togglePayWhatYouWantFields()"> Enable Pay What You Want
    </label>
    <div id="payWhatYouWantFields" style="display:none;">
        <p>Minimum Payment Amount: <input type="number" id="minPayment" placeholder="Enter minimum amount" /></p>
    </div>

    <script>
        function togglePayWhatYouWantFields() {
            const checkbox = document.getElementById("payWhatYouWantCheckbox");
            const fields = document.getElementById("payWhatYouWantFields");
            fields.style.display = checkbox.checked ? "block" : "none";
        }
    </script>

    <!-- Input for Game Controller Support -->
    <h2>Input Game Controller Support</h2>
    <p>Select which is true:</p>
    <label>
        <input type="checkbox" id="gameControllerSupport"> Has game controller support
    </label><br>
    <label>
        <input type="checkbox" id="mouseKeyboardSupport"> Has mouse/keyboard support
    </label><br>
    <label>
        <input type="checkbox" id="joystickSupport"> Has joystick support
    </label>

    <!-- Button to Send to GitHub Machine -->
    <h2>Send to GitHub Machine</h2>
    <button onclick="sendToGitHubMachine()">Send Data</button>

    <script>
        function sendToGitHubMachine() {
            const repoUrl = document.getElementById("repoUrl").value;
            const submoduleName = document.getElementById("submoduleName").value;
            const submodulePath = document.getElementById("submodulePath").value;
            const gameControllerSupport = document.getElementById("gameControllerSupport").checked;
            const mouseKeyboardSupport = document.getElementById("mouseKeyboardSupport").checked;
            const joystickSupport = document.getElementById("joystickSupport").checked;

            const teamMembers = Array.from(document.querySelectorAll("#teamMembersList li")).map(member => {
                const name = member.querySelector('input[placeholder="Member Name"]').value;
                const role = member.querySelector('input[placeholder="Role"]').value;
                const cut = member.querySelector('input[placeholder="Cut (%)"]').value;
                return { name, role, cut };
            });

            const paymentAddresses = Array.from(document.querySelectorAll("#paymentList li")).map(address => {
                const paymentAddress = address.querySelector('input[placeholder="Payment Address"]').value;
                const cut = address.querySelector('input[placeholder="Cut (%)"]').value;
                return { paymentAddress, cut };
            });

            //
