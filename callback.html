<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback Page</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS if needed -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        // Initialize Mermaid for flowchart
        mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <h1>Callback Page</h1>
    <p>This page handles the GitHub OAuth callback and includes several project-related features.</p>

    <!-- Directory Description and Diagram -->
    <h2>Repository Structure Description</h2>
    <p>You could make a repository of your built game directory, but make sure to match the following:</p>
    <p>The name of the repository will serve as the name of your game in the arcade machine launcher, so be sure to use capital letters if needed.</p>
    <p>The directory should include:</p>
    <ul>
        <li>The .exe file and any additional game binaries (the files generated in the build directory).</li>
        <li>The license for your game.</li>
        <li>One .gif file of your game, serving as part of your arcade machine presentation.</li>
    </ul>

    <h2>Desired repo structure:</h2>
    <!-- Diagram -->
<div class="mermaid">
    graph TD;
        A[Repository Name] --> B[Game Executable (.exe)];
        A --> C[Additional Binaries];
        A --> D[License File];
        A --> E[Game Presentation GIF (.gif)];
</div>


    <p>A GitHub machine-generated .json file will be pushed/requested from my account/github machine, adding the metadata for your game you fill on this page, including team members, description, payment/donation receiving addresses and cuts, e.g., booleans "isFree," and so on. You can manually edit this file to include desired outcomes; just remember to push.</p>
    <p>If something goes wrong, or decisions are made from above, e.g., the school, I will notify you all through the email associated with the account you used for the OAuth.</p>

    <!-- Repository Git URL -->
    <h2>Repository Git URL</h2>
    <p>Enter your repository URL below:</p>
    <input type="text" id="repoUrl" placeholder="https://github.com/username/repo.git" />

    <!-- Function to Request Repository Access -->
    <h2>Grant Repository Access</h2>
    <p>Use the button below to request access to your repository:</p>
    <button onclick="requestRepoAccess()">Request Access</button>

    <script>
        function requestRepoAccess() {
            // Functionality to grant access to your GitHub repository
            // Implement GitHub API calls or other mechanisms here
            console.log("Requesting access to the repository...");
            alert("Access request sent!"); // Placeholder for feedback
        }
    </script>

    <!-- Team Members Section -->
    <h2>Team Members</h2>
    <ul id="teamMembersList">
        <!-- Existing team members can be added here dynamically -->
    </ul>
    <button onclick="addTeamMember()">Add Team Member</button>

    <script>
        function addTeamMember() {
            const list = document.getElementById("teamMembersList");
            const newMember = document.createElement("li");

            // Create input fields for the new team member
            newMember.innerHTML = `
                Name: <input type="text" placeholder="Member Name" />
                Role: <input type="text" placeholder="Role" />
                Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
                <button onclick="removeMember(this)">Remove</button>
            `;
            list.appendChild(newMember);
        }

        function removeMember(button) {
            const listItem = button.parentElement;
            listItem.remove();
        }
    </script>

    <!-- Public Team Page -->
    <h2>Public Team Page</h2>
    <p>Visit our team page: <a href="https://yourteam.github.io" target="_blank">Public Team Page</a></p>

    <!-- Public Game Page -->
    <h2>Public Game Page</h2>
    <p>Check out our game: <a href="https://yourgame.github.io" target="_blank">Public Game Page</a></p>

    <!-- Payment Receiving Address Section -->
    <h2>Payment Receiving Address</h2>
    <ul id="paymentList">
        <li>
            Address: <input type="text" placeholder="Payment Address" />
            Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
            <button onclick="removePaymentField(this)">Remove</button>
        </li>
    </ul>
    <button onclick="addPaymentField()">Add Payment Address</button>

    <script>
        function addPaymentField() {
            const list = document.getElementById("paymentList");
            const newField = document.createElement("li");

            // Create input fields for the new payment address
            newField.innerHTML = `
                Address: <input type="text" placeholder="Payment Address" />
                Percentage Cut: <input type="number" min="0" max="100" placeholder="Cut (%)" />
                <button onclick="removePaymentField(this)">Remove</button>
            `;
            list.appendChild(newField);
        }

        function removePaymentField(button) {
            const listItem = button.parentElement;
            listItem.remove();
        }
    </script>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Project Callback Page</p>
    </footer>
</body>
</html>
