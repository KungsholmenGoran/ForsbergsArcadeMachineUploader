<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forsbergs Arcade Machine Game Integration System</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        const CLIENT_ID = "Ov23lixSdUneuispdkKO"; // Replace with your GitHub OAuth app's client ID
        const REDIRECT_URI = "https://sibjor.github.io/ForsbergsArcadeMachineUploader/callback.html"; // Replace with the callback URL specified in your GitHub app

        function authenticateWithGitHub() {
            const authUrl = `https://github.com/login/oauth/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}`;
            window.location.href = authUrl;
        }

        // Initialize Mermaid for the diagram
        document.addEventListener("DOMContentLoaded", () => {
            mermaid.initialize({ startOnLoad: true });
        });
    </script>
    <style>
        /* Add any necessary styles here */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>ForsbergsArcadeMachineGameIntegrationSystem version 0.1</h1>
    <p>Welcome to the game integration system for the arcade machine! Read this page, and after that authenticate with GitHub to manage your repository and publish it to the arcade machine.</p>
    <p>If your game isn't free to play, be sure to have account details ready for the currently supported payment options of your choice: PayPal and/or Stripe (for all contributors and possible charities).</p>
    
    <h2>System Overview</h2>
    <div class="mermaid">
        graph TD;
            A[User Authentication] --> B[Select Repository];
            B --> C[Fill Metadata];
            C --> D[Submit and automate processes];
            D --> E[Added as a Submodule to the Arcade Machine Launcher];
    </div>

    <h3>Forsbergs Arcade Machine Game Integration System version 0.1</h3>
    <p>Prototyped by Sixten and ChatGPT</p>
    <p>Repo of this website: <a href="https://github.com/sibjor/ForsbergsArcadeMachineGameIntegrationSystem" target="_blank">GitHub Repository Link</a></p>

    <h2>Instructions</h2>
    <p>Please read this page thoroughly, then follow the steps described to integrate your game into the arcade machine.</p>

    <h3>Repository Naming</h3>
    <p><strong>Name your repository</strong> exactly as you wish your actual game title to appear, with capital letters as desired.</p>

    <h3>Platform Supported</h3>
    <p><strong>Windows only</strong> is supported, as previously agreed upon.</p>

    <h3>Repository Contents</h3>
    <ul>
        <li>Game binary files (.exe and supporting files from the build directory)</li>
        <li>Your license</li>
        <li>A preview .gif file for the arcade machine launcher</li>
        <li>(Optional) A "Demo" folder containing demo build files and your license, for a one-time playability.</li>
    </ul>

    <h3>Integration Process</h3>
    <ol>
        <li>Build your game for Windows and ensure all necessary files are in a folder named exactly as your game title.</li>
        <li>Create a GitHub repository with this folder's name.</li>
        <li>Once you've reviewed all steps, authenticate on this page by clicking "Authenticate with GitHub to Continue."</li>
        <li>After authentication, select the repository to integrate.</li>
        <li>Complete the metadata form with any required information, such as payout accounts, which can also be left blank if not needed.</li>
        <li>Submit, and a repository invitation request will be automatically sent to my GitHub account.</li>
        <li>GitHub Actions will automate the rest, such as accepting the invite, creating and pushing a metadata.json file, and further setup as necessary.</li>
    </ol>

    <h3>Editing Metadata</h3>
    <p>You can edit the <strong>metadata.json</strong> file created by GitHub Actions. The structure is human-readable and allows you to update payout accounts and allocations as needed.</p>

    <h3>Updating Your Game</h3>
    <p>To update your game, rebuild it, replace the files in your repository, and push the changes.</p>

    <button onclick="authenticateWithGitHub()">Authenticate with GitHub to Continue</button>

    <footer>
        <p>&copy; 2024 https://github.com/sibjor</p>
    </footer>
</body>
</html>
